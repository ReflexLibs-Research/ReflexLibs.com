<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ReflexLibs Timeline</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      display: flex;
      font-family: 'Poppins', sans-serif;
      height: 100vh;
    }

    .column {
      width: 50%;
      overflow-y: auto;
      padding: 1rem 2rem;
      box-sizing: border-box;
    }

    .white-bg {
      background-color: #ffffff;
      color: #000000;
    }

    .black-bg {
      background-color: #000000;
      color: #ffffff;
    }

    .section {
      margin-bottom: 2rem;
    }

    .title {
      font-weight: 600;
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
    }

    ul {
      margin-top: 0;
      padding-left: 1.2rem;
    }

    .svg-header {
      display: block;
      margin-bottom: 1rem;
      text-align: center;
    }

    .svg-header svg {
      width: 100%;
      max-width: 320px;
      height: auto;
    }

    a {
      text-decoration: none;
    }
  </style>
</head>
<body>

  <div id="left-container" class="column"></div>
  <div id="right-container" class="column"></div>

  <script>
    const DotComOrAI = 'DotCom'; // or 'AI' to flip left/right

    const baseUrl = 'http://devriskevolutionwebservice.azurewebsites.net/reflexLibs/';

    const config = {
      DotCom: {
        left: {
          api: baseUrl + 'reflexlibs2018',
          url: 'https://www.reflexlibs.com',
          color: '#000',
          bgClass: 'white-bg',
          text: 'www.reflexlibs.com'
        },
        right: {
          api: baseUrl + 'reflexlibs2025',
          url: 'https://www.reflexlibs.ai',
          color: '#fff',
          bgClass: 'black-bg',
          text: 'www.reflexlibs.ai'
        }
      },
      AI: {
        left: {
          api: baseUrl + 'reflexlibs2025',
          url: 'https://www.reflexlibs.ai',
          color: '#fff',
          bgClass: 'black-bg',
          text: 'www.reflexlibs.ai'
        },
        right: {
          api: baseUrl + 'reflexlibs2018',
          url: 'https://www.reflexlibs.com',
          color: '#000',
          bgClass: 'white-bg',
          text: 'www.reflexlibs.com'
        }
      }
    };

    const layout = config[DotComOrAI];

    function renderColumn(containerId, { api, url, color, bgClass, text }) {
      const container = document.getElementById(containerId);
      container.classList.add(bgClass);

      const link = document.createElement('a');
      link.href = url;
      link.target = '_blank';
      link.className = 'svg-header';

      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      svg.setAttribute('viewBox', '0 0 500 60');

      const textEl = document.createElementNS('http://www.w3.org/2000/svg', 'text');
      textEl.setAttribute('x', '0');
      textEl.setAttribute('y', '40');
      textEl.setAttribute('font-size', '32');
      textEl.setAttribute('font-family', 'Poppins');
      textEl.setAttribute('fill', color);
      textEl.textContent = text;

      svg.appendChild(textEl);
      link.appendChild(svg);
      container.appendChild(link);

      fetch(api)
        .then(res => {
          if (!res.ok) {
            throw new Error(`Failed to load: ${api}`);
          }
          return res.json();
        })
        .then(data => {
          data.forEach(section => {
            const div = document.createElement('div');
            div.className = 'section';

            const title = document.createElement('div');
            title.className = 'title';
            title.textContent = `${section.SectionID}. ${section.Title}`;
            div.appendChild(title);

            const ul = document.createElement('ul');
            section.Items.forEach(item => {
              const li = document.createElement('li');
              li.textContent = item;
              ul.appendChild(li);
            });
            div.appendChild(ul);

            container.appendChild(div);
          });
        })
        .catch(error => {
          console.error(error);
          container.innerHTML += `<p style="color:red">Failed to load data from: ${api}</p>`;
        });
    }

    renderColumn('left-container', layout.left);
    renderColumn('right-container', layout.right);
  </script>

</body>
</html>
